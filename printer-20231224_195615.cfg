### For Fly Super 8 V1.3 ####
### And Mellow Kit  ####
### For Fly Super pro 8, the SPI bus is spi1A
### For Fly Super 8 V1.3, the SPI bus is spi3
#linear_advance: 0.01
#pressure_advance_smooth_time: 0.015
#pressure_advance_model:
#linear_offset: .0075 
#linearization_velocity: 2.5

[include mainsail.cfg]
#[include adxl.cfg]
#[include timelapse.cfg]
[include Exclude_Object.cfg]
[include Start_Stop.cfg]
[include Macro.cfg]
[include Speed.cfg]
[include dyze500.cfg]
[display_status]
[exclude_object]
# [include supernova_2209.cfg]
# [include supernova.cfg]
[include Printer_monster8.cfg]
[virtual_sdcard]
path: /home/pi/printer_data/gcodes
[include SDNT1005X103F3950FTF.cfg]
[pause_resume]
recover_velocity: 350
[force_move]
enable_force_move: true
#[per_axis_macro.cfg]

##### VzBoT############
#######################
[printer]
kinematics: limited_corexy
max_velocity: 4230
max_z_velocity: 100
max_accel: 150000 # Default acceleration of your choice
max_x_accel: 100000
max_y_accel: 100000
max_z_accel: 1500
scale_xy_accel: True
square_corner_velocity: 15
max_accel_to_decel: 9999999


[include printer_corevus.cfg]
# [include supernova_2209.cfg]
# [include supernova.cfg]

#[printer]
#kinematics: corexy
#max_velocity: 2500
#max_accel: 25000
#max_accel_to_decel: 5000
#max_z_velocity: 20
#max_z_accel: 1500
#square_corner_velocity: 15

########################
########################
[mcu rpi]
serial: /tmp/klipper_host_mcu

[temperature_sensor raspberry_pi]
sensor_type: temperature_host
min_temp: 10
max_temp: 100

###########################################
#########Custom PINs Definition ############
###########################################

[idle_timeout]
timeout: 1800
gcode =
  {% if printer.pause_resume.is_paused %}
    M104 S0
  {% else %}
    TURN_OFF_HEATERS
    #M84
  {% endif %}

################################################################################################
##                                        Probe                                               ##
################################################################################################

[bed_screws]
screw1: 20,20
screw2: 20,290
screw3: 290,290
screw4: 290,20

[board_pins corevus-g] ## corevus-g v0.3-alpha pin aliases
mcu: mcu # specify the name of the MCU given to the corevus-g board.
aliases: # low power motors 
    M0_STEP = PC12, M0_DIR = PD0,  M0_EN = PC11, M0_UART = PD1,
    M1_STEP = PD3,  M1_DIR = PD4,  M1_EN = PD2,  M1_UART = PD5,
    M2_STEP = PD7,  M2_DIR = PG9,  M2_EN = PD6,  M2_UART = PG10,
    M3_STEP = PG12, M3_DIR = PG13, M3_EN = PG11, M3_UART = PG14,
# high power motors
    M4_STEP = PB8,  M4_DIR = PE1,  M4_EN = PE0,  M4_CS = PB7,  M4_DIAG1 = PB9,
    M5_STEP = PB3,  M5_DIR = PB4,  M5_EN = PB5,  M5_CS = PG15, M5_DIAG1 = PB6,
# external motor drivers
    M6_STEP = PE5,  M6_DIR = PE4,  M6_EN = PE3,  M6_CS = PE2,
    M7_STEP = PF3,  M7_DIR = PF2,  M7_EN = PF1,  M7_CS = PF0,
    M8_STEP = PC15, M8_DIR = PC14, M8_EN = PC13, M8_CS = PE6,
    M9_STEP = PF7,  M9_DIR = PF6,  M9_EN = PF5,  M9_CS = PF4,
# heaters
    HB = PF12, H0 = PF11, H1 = PF13, H2 = PF14, H3 = PF15, H4 = PB2,
# fans
    F0 = PE8,  F1 = PG1,  
    F2 = PE11, F3 = PE10, F4 = PE9, 
    F5 = PE14, F6 = PE13, F7 = PE12, 
    F8 = PB11, F9 = PB10, F10= PE15,
    F0_FG = PG0, F1_FG = PG0,
# thermistors
    T0 = PA0, T1 = PC2, T2 = PC0,
    T3 = PA1, T4 = PC3, T5 = PC1,
    M4_THERM = PF8, PWR_THERM = PA4,
# endstops
    S0 = PC5, S1 = PC4, S2 = PB0, S3 = PB1,
    # EXP1 header
    EXP1_1 = PG8,  EXP1_2 = PG7,
    EXP1_3 = PG5,  EXP1_4 = PG4,
    EXP1_5 = PD15, EXP1_6 = PD14,  
    EXP1_7 = PD13, EXP1_8 = PD12,
    EXP1_9 = <GND>,EXP1_10= <5V>,
    # EXP2 header
    EXP2_1 = PB14, EXP2_2 = PB13,
    EXP2_3 = PG3,  EXP2_4 = PG6,
    EXP2_5 = PG2,  EXP2_6 = PB15,
    EXP2_7 = PD11, EXP2_8 = <RST>,
    EXP2_9 = <GND>,EXP2_10= <5V>,

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid_v
#*# pid_kp = 22.773
#*# pid_ki = 0.546
#*# pid_kd = 237.550
#*#
#*# [extruder]
#*# control = pid_v
#*# pid_kp = 26.521
#*# pid_ki = 1.936
#*# pid_kd = 90.835
#*#
#*# [stepper_z]
#*# position_endstop = -0.0
#*#
#*# [input_shaper]
#*# shaper_type_x = 2hump_ei
#*# shaper_freq_x = 117.8
#*# shaper_type_y = smooth_ei
#*# shaper_freq_y = 74.6
